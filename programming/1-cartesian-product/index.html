<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="求笛卡尔积 #  Q: 求 [&ldquo;a&rdquo;, &ldquo;b&rdquo;], [&ldquo;x&rdquo;, &ldquo;y&rdquo;], [1, 2, 3] 的迪卡尔积。 #  1. python 版本 #  #!/usr/bin/env python #-*-coding:utf-8-*- import itertools a = [&#34;a&#34;, &#34;b&#34;] b = [&#34;x&#34;, &#34;y&#34;] c = [1, 2, 3] # 计算笛卡尔积 # Param : 以单个集合(数组)作为参数，可以支持变长参数，即多个集合。 # Return: 返回组合的个数及对应的数组集合 def combination(*array): # 错误处理, 如果当只有一个集合进行计算，则抛出异常 if len(array) < 2: raise ValueError(&#34;至少有2个集合&#34;) if len(array) > 12: print(&#34;数据量较大，生成集合耗时较长, 请耐心等待&#34;) count = 0 items = [] for item in itertools."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content><meta property="og:description" content="求笛卡尔积 #  Q: 求 [&ldquo;a&rdquo;, &ldquo;b&rdquo;], [&ldquo;x&rdquo;, &ldquo;y&rdquo;], [1, 2, 3] 的迪卡尔积。 #  1. python 版本 #  #!/usr/bin/env python #-*-coding:utf-8-*- import itertools a = [&#34;a&#34;, &#34;b&#34;] b = [&#34;x&#34;, &#34;y&#34;] c = [1, 2, 3] # 计算笛卡尔积 # Param : 以单个集合(数组)作为参数，可以支持变长参数，即多个集合。 # Return: 返回组合的个数及对应的数组集合 def combination(*array): # 错误处理, 如果当只有一个集合进行计算，则抛出异常 if len(array) < 2: raise ValueError(&#34;至少有2个集合&#34;) if len(array) > 12: print(&#34;数据量较大，生成集合耗时较长, 请耐心等待&#34;) count = 0 items = [] for item in itertools."><meta property="og:type" content="article"><meta property="og:url" content="https://airdb.dev/interview/programming/1-cartesian-product/"><meta property="article:section" content="programming"><meta property="article:modified_time" content="2021-05-20T16:55:44+08:00"><title>1 Cartesian Product | airdb</title><link rel=manifest href=/interview/manifest.json><link rel=icon href=/interview/favicon.png type=image/x-icon><link rel=stylesheet href=/interview/book.min.d08be657f4d0d61b509ac06e1059e92fd1c66f15535a6bd4cee27e19935f34ae.css integrity="sha256-0IvmV/TQ1htQmsBuEFnpL9HGbxVTWmvUzuJ+GZNfNK4="><script defer src=/interview/en.search.min.9ec49e2ba4d22618757a068afdde7dd08876b4ba847b62175779a71d88111296.js integrity="sha256-nsSeK6TSJhh1egaK/d590Ih2tLqEe2IXV3mnHYgREpY="></script><script defer src=/interview/sw.min.60cd7ce2f1ad129c3cbe1872d0ccd8613e59ffd6c3d5e74850d4dd869db34448.js integrity="sha256-YM184vGtEpw8vhhy0MzYYT5Z/9bD1edIUNTdhp2zREg="></script><link rel=apple-touch-icon sizes=128x128 href=128x128.jpg><script>var _hmt=_hmt||[];(function(){var a=document.createElement("script"),b;a.src="https://hm.baidu.com/hm.js?65e05e8c0631a0d2802629f8ceb31fee",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-133539351-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script><div align=center }><marquee direction=left>Welcome to Join US.</marquee></div></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control>
<a href=https://github.com/airdb/howto class=github-corner aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#64ceaa;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media(max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><a href=https://github.com/airdb/howto class=github-corner aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#64ceaa;color:#fff;position:absolute;top:0;border:0;left:0;transform:scale(-1,1)" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media(max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/interview><img src=/interview/logo.png alt=Logo><span>airdb</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=https://www.airdb.com target=_blank rel=noopener>Home</a></li><li><a href=https://github.com/airdb target=_blank rel=noopener>Github</a></li></ul><hr><ul><li><p>OS</p><ul><li><a href=/interview/os/os/>OS</a></li></ul></li><li><p>Network</p><ul><li><a href=/interview/network/tcp/>TCP</a></li><li><a href=/interview/network/tcp-state/>TCP State</a></li></ul></li><li><p>Architecture</p><ul><li><a href=/interview/arch/session/>1 session</a></li></ul></li><li><p>Data Struct</p></li><li><p>Sloution</p></li><li><p><strong>Programming</strong></p><ul><li><a href=/interview/programming/1-cartesian-product/ class=active>1 笛卡尔积</a></li><li><a href=/interview/programming/2-lru/>2 LRU</a></li></ul></li><li><p>面试问题</p><ul><li><a href=/interview/candidate/github-question/>Github 面试题</a></li><li><a href=/interview/candidate/solution/>Troubleshooting</a></li></ul></li><li><p>英文面试</p><ul><li><a href=/interview/candidate/Phone-Interview-Questions-About-You/>关于个人</a></li><li><a href=/interview/candidate/Phone-Interview-Questions-About-Your-Background/>背景</a></li><li><a href=/interview/candidate/Phone-Interview-Questions-About-the-New-Job-and-the-Company/>公司</a></li><li><a href=/interview/candidate/demo/>Demo</a></li></ul></li><li><p>面试官</p><ul><li><a href=/interview/interviewer/evaluation/>英文评价</a></li><li><a href=/interview/interviewer/q1/>提问</a></li><li><a href=/interview/interviewer/e1/>经验</a></li></ul></li></ul></nav><script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/interview/svg/menu.svg class=book-icon alt=Menu></label>
<strong>1 Cartesian Product</strong>
<label for=toc-control></label></div></header><article class=markdown><h1 id=求笛卡尔积>求笛卡尔积
<a class=anchor href=#%e6%b1%82%e7%ac%9b%e5%8d%a1%e5%b0%94%e7%a7%af>#</a></h1><h2 id=q-求-a-b-x-y-1-2-3-的迪卡尔积>Q: 求 [&ldquo;a&rdquo;, &ldquo;b&rdquo;], [&ldquo;x&rdquo;, &ldquo;y&rdquo;], [1, 2, 3] 的迪卡尔积。
<a class=anchor href=#q-%e6%b1%82-a-b-x-y-1-2-3-%e7%9a%84%e8%bf%aa%e5%8d%a1%e5%b0%94%e7%a7%af>#</a></h2><h3 id=1-python-版本>1. python 版本
<a class=anchor href=#1-python-%e7%89%88%e6%9c%ac>#</a></h3><pre><code>#!/usr/bin/env python
#-*-coding:utf-8-*-

import itertools

a = [&quot;a&quot;, &quot;b&quot;]
b = [&quot;x&quot;, &quot;y&quot;]
c = [1, 2, 3]

# 计算笛卡尔积
# Param : 以单个集合(数组)作为参数，可以支持变长参数，即多个集合。
# Return: 返回组合的个数及对应的数组集合
def combination(*array):
  # 错误处理, 如果当只有一个集合进行计算，则抛出异常
  if len(array) &lt; 2:
    raise ValueError(&quot;至少有2个集合&quot;)
  if len(array) &gt; 12:
    print(&quot;数据量较大，生成集合耗时较长, 请耐心等待&quot;)

  count = 0
  items = []
  for item in itertools.product(*array):
    count += 1
    print item
    items.append(item)
  return (count, items)

if __name__ == '__main__' :
  print &quot;笛卡尔积：&quot;

  # 如果有多少集合数据，可以',' 分隔作为参数传递给函数combination(), 如combination(a1, a2, a3, a4, ...)
  # count, items = combination(a, b, c, a, b, c, a, b, c, a, b, c)
  # count, items = combination(a)
  count, items = combination(a, b, c)
  print &quot;此笛卡尔积组合为: &quot;, items
  print &quot;共有 %d 个组合&quot; % (count)
</code></pre><h3 id=2-golang-版本>2. golang 版本
<a class=anchor href=#2-golang-%e7%89%88%e6%9c%ac>#</a></h3><pre><code>package main

import (
    &quot;errors&quot;
    &quot;fmt&quot;
)

// 递归下一个 index
func NextIndex(idx []int, lenArr []int) {
    j := len(idx) - 1
    for ; j &gt;= 0; j-- {
        fmt.Println(&quot;debug========:&quot;, j, idx)
        idx[j]++
        fmt.Println(&quot;debug========:&quot;, j, idx)
        if j == 0 || idx[j] &lt; lenArr[j] {
            return
        }
        // 首次返回0下标
        idx[j] = 0
    }
}

func Combination(arr ...[]string) (count int, arrList [][]string, err error) {
    // 错误处理, 少于2个集合则错误返回。
    if len(arr) &lt; 2 {
        fmt.Println(&quot;至少有2个集合&quot;)
        errors.New(&quot;至少有2个集合&quot;)
        count = -1
        return
    }

    // 将每一个集合的长度记录下来, 并存放在数组中
    lenArray := []int{}
    for index, _ := range arr {
        lenArray = append(lenArray, len(arr[index]))
    }

    // 构造索引数组, 并初始化[], 值为0
    idx := make([]int, len(arr))

    // 索引数组中索引小于集合长度进行循环, 从右往左依次增加下标idx数值，实现遍历。
    for ; idx[0] &lt; lenArray[0]; NextIndex(idx, lenArray) {
        var r []string

        for j, k := range idx {
            fmt.Println(&quot;debug2======&quot;, r, j, k, idx)
            // 依次合并相邻集合，最终所有元素存放在r数组中
            r = append(r, arr[j][k])
        }
        fmt.Println(r)
        arrList = append(arrList, r)
    }
    count = len(arrList)
    return
}

func main() {
    arr1 := []string{&quot;a&quot;, &quot;b&quot;}
    arr2 := []string{&quot;x&quot;, &quot;y&quot;}
    arr3 := []string{&quot;1&quot;, &quot;2&quot;, &quot;3&quot;}

    // Combination(arr1, arr2, arr3, arr1)
    count, arrList, err := Combination(arr1, arr2, arr3, arr1)
    // count, arrList, err := Combination(arr1)
    if err == nil {
        fmt.Printf(&quot;笛卡尔积组合为：%s, 共有：%d 个组合\n&quot;, arrList, count)
    }
}
</code></pre></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/airdb/interview/commit/ed3fffc531bbda7d0adccb3338a4cf857e2e0d62 title="Last modified by deancn | May 20, 2021" target=_blank rel=noopener><img src=/interview/svg/calendar.svg class=book-icon alt=Calendar>
<span>May 20, 2021</span></a></div><div><a class="flex align-center" href=https://github.com/airdb/interview/tree/master/content//programming/1-cartesian-product.md target=_blank rel=noopener><img src=/interview/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div><div id=gitalk-container style=width:100%></div><link rel=stylesheet href=https://unpkg.com/gitalk/dist/gitalk.css><script src=https://unpkg.com/gitalk/dist/gitalk.min.js></script><script src=https://rawgit.com/qhh0205/78e9e0b1f3114db6737f3ed8cdd51d3a/raw/3894c5be5aa2378336b1f5ee0f296fa0b22d06e9/md5.min.js></script><script>const gitalk=new Gitalk({clientID:'82d2a29103bc197c3bb4',clientSecret:'70dde8b91462a8dd50f72f20e7506ce898aa4939',repo:'airdb-wiki.github.io',owner:'airdb-wiki',admin:['airdb-wiki'],id:md5(location.pathname),distractionFreeMode:!1,body:location.href});(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('gitalk-container').innerHTML='Gitalk comments not available by default when the website is previewed locally.';return}gitalk.render('gitalk-container')})()</script></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div></main></body></html>