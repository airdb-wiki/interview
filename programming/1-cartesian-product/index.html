<!doctype html><html lang=en dir=ltr><head><meta name=generator content="Hugo 0.83.1"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="求笛卡尔积 #  Q: 求 [&ldquo;a&rdquo;, &ldquo;b&rdquo;], [&ldquo;x&rdquo;, &ldquo;y&rdquo;], [1, 2, 3] 的迪卡尔积。 #  1. python 版本 #  #!/usr/bin/env python #-*-coding:utf-8-*- import itertools a = [&#34;a&#34;, &#34;b&#34;] b = [&#34;x&#34;, &#34;y&#34;] c = [1, 2, 3] # 计算笛卡尔积 # Param : 以单个集合(数组)作为参数，可以支持变长参数，即多个集合。 # Return: 返回组合的个数及对应的数组集合 def combination(*array): # 错误处理, 如果当只有一个集合进行计算，则抛出异常 if len(array) < 2: raise ValueError(&#34;至少有2个集合&#34;) if len(array) > 12: print(&#34;数据量较大，生成集合耗时较长, 请耐心等待&#34;) count = 0 items = [] for item in itertools."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content><meta property="og:description" content="求笛卡尔积 #  Q: 求 [&ldquo;a&rdquo;, &ldquo;b&rdquo;], [&ldquo;x&rdquo;, &ldquo;y&rdquo;], [1, 2, 3] 的迪卡尔积。 #  1. python 版本 #  #!/usr/bin/env python #-*-coding:utf-8-*- import itertools a = [&#34;a&#34;, &#34;b&#34;] b = [&#34;x&#34;, &#34;y&#34;] c = [1, 2, 3] # 计算笛卡尔积 # Param : 以单个集合(数组)作为参数，可以支持变长参数，即多个集合。 # Return: 返回组合的个数及对应的数组集合 def combination(*array): # 错误处理, 如果当只有一个集合进行计算，则抛出异常 if len(array) < 2: raise ValueError(&#34;至少有2个集合&#34;) if len(array) > 12: print(&#34;数据量较大，生成集合耗时较长, 请耐心等待&#34;) count = 0 items = [] for item in itertools."><meta property="og:type" content="article"><meta property="og:url" content="https://airdb.dev/interview/programming/1-cartesian-product/"><meta property="article:section" content="programming"><meta property="article:modified_time" content="2021-05-20T16:55:44+08:00"><title>1 Cartesian Product | airdb</title><link rel=manifest href=/interview/manifest.json><link rel=icon href=/interview/favicon.png type=image/x-icon><link rel=stylesheet href=/interview/book.min.5a7d8dc7dd5e3fd429a1d11603d2d6e5842357ea8e6b44dacf65f4900e1ead3d.css integrity="sha256-Wn2Nx91eP9QpodEWA9LW5YQjV+qOa0Taz2X0kA4erT0="><script defer src=/interview/en.search.min.9ec49e2ba4d22618757a068afdde7dd08876b4ba847b62175779a71d88111296.js integrity="sha256-nsSeK6TSJhh1egaK/d590Ih2tLqEe2IXV3mnHYgREpY="></script><script defer src=/interview/sw.min.60cd7ce2f1ad129c3cbe1872d0ccd8613e59ffd6c3d5e74850d4dd869db34448.js integrity="sha256-YM184vGtEpw8vhhy0MzYYT5Z/9bD1edIUNTdhp2zREg="></script><link rel=apple-touch-icon sizes=128x128 href=128x128.jpg><script>var _hmt=_hmt||[];(function(){var a=document.createElement("script"),b;a.src="https://hm.baidu.com/hm.js?65e05e8c0631a0d2802629f8ceb31fee",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b),console.log("欢迎加入，https://airdb.dev"),console.log("Welcome，https://airdb.dev")})()</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-133539351-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script><nav class="app-nav pc no-badge"><div class=logo><a href=//airdb.dev/ target=__blank class=dcloud-logo></a><a href=/ class="uniapp-logo active"></a></div><div class="search nav-search"><div class=input-wrap><input type=search placeholder=搜索><div class=clear-button><svg width="26" height="24"><circle cx="12" cy="12" r="11" fill="#ccc"/><path stroke="#fff" stroke-width="2" d="M8.25 8.25l7.5 7.5"/><path stroke="#fff" stroke-width="2" d="M8.25 15.75l7.5-7.5"/></svg></div></div><div class=results-panel></div></div><ul class=nav-url><li><a href=/README>介绍</a></li><li><a href=/collocation/pages>框架</a></li><li><a href=/component/README>组件</a></li><li><a href=/api/README>API</a></li><li><a href=/uniCloud/README>uniCloud</a></li><li><a href=http://www.html5plus.org/doc/h5p.html target=_blank>其它规范</a><ul><li><a href=https://developers.weixin.qq.com/miniprogram/dev/framework/ target=_blank>微信小程序</a></li></ul></li></ul><ul class=nav-href><li class=ext-link><a href=//github.com/airdb-wiki/hugo-book target=__blank>插件市场</a></li><li><a href=//github.com/airdb-wiki/hugo-book target=__blank>需求墙</a></li><li><a href=//github.com/sponsors/airdb target=__blank style=color:#f60!important><img src=https://bjetxgzv.cdn.bspapp.com/VKCEYUGU-uni-app-doc/45e691f0-4f3d-11eb-b680-7980c8a877b8.png class=heart>赞助我们</a></li></ul><div class=github><a href=//github.com/airdb-wiki/hugo-book target=_blank><img src=https://bjetxgzv.cdn.bspapp.com/VKCEYUGU-uni-app-doc/44f8d690-4f3d-11eb-b680-7980c8a877b8.svg></a></div></nav></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a href=/interview><img src=/interview/logo.png alt=Logo><span>airdb</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=https://www.airdb.com target=_blank rel=noopener>Home</a></li><li><a href=https://github.com/airdb target=_blank rel=noopener>Github</a></li></ul><hr><ul><li><p>OS</p><ul><li><a href=/interview/os/os/>OS</a></li></ul></li><li><p>Network</p><ul><li><a href=/interview/network/tcp/>TCP</a></li><li><a href=/interview/network/tcp-state/>TCP State</a></li></ul></li><li><p>Architecture</p><ul><li><a href=/interview/arch/session/>1 session</a></li></ul></li><li><p>Data Struct</p></li><li><p>Sloution</p></li><li><p><strong>Programming</strong></p><ul><li><a href=/interview/programming/1-cartesian-product/ class=active>1 笛卡尔积</a></li><li><a href=/interview/programming/2-lru/>2 LRU</a></li></ul></li><li><p>面试问题</p><ul><li><a href=/interview/candidate/github-question/>Github 面试题</a></li><li><a href=/interview/candidate/solution/>Troubleshooting</a></li></ul></li><li><p>英文面试</p><ul><li><a href=/interview/candidate/Phone-Interview-Questions-About-You/>关于个人</a></li><li><a href=/interview/candidate/Phone-Interview-Questions-About-Your-Background/>背景</a></li><li><a href=/interview/candidate/Phone-Interview-Questions-About-the-New-Job-and-the-Company/>公司</a></li><li><a href=/interview/candidate/demo/>Demo</a></li></ul></li><li><p>面试官</p><ul><li><a href=/interview/interviewer/evaluation/>英文评价</a></li><li><a href=/interview/interviewer/q1/>提问</a></li><li><a href=/interview/interviewer/e1/>经验</a></li></ul></li></ul></nav><script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/interview/svg/menu.svg class=book-icon alt=Menu></label>
<strong>1 Cartesian Product</strong>
<label for=toc-control></label></div></header><article class=markdown><h1 id=求笛卡尔积>求笛卡尔积
<a class=anchor href=#%e6%b1%82%e7%ac%9b%e5%8d%a1%e5%b0%94%e7%a7%af>#</a></h1><h2 id=q-求-a-b-x-y-1-2-3-的迪卡尔积>Q: 求 [&ldquo;a&rdquo;, &ldquo;b&rdquo;], [&ldquo;x&rdquo;, &ldquo;y&rdquo;], [1, 2, 3] 的迪卡尔积。
<a class=anchor href=#q-%e6%b1%82-a-b-x-y-1-2-3-%e7%9a%84%e8%bf%aa%e5%8d%a1%e5%b0%94%e7%a7%af>#</a></h2><h3 id=1-python-版本>1. python 版本
<a class=anchor href=#1-python-%e7%89%88%e6%9c%ac>#</a></h3><pre><code>#!/usr/bin/env python
#-*-coding:utf-8-*-

import itertools

a = [&quot;a&quot;, &quot;b&quot;]
b = [&quot;x&quot;, &quot;y&quot;]
c = [1, 2, 3]

# 计算笛卡尔积
# Param : 以单个集合(数组)作为参数，可以支持变长参数，即多个集合。
# Return: 返回组合的个数及对应的数组集合
def combination(*array):
  # 错误处理, 如果当只有一个集合进行计算，则抛出异常
  if len(array) &lt; 2:
    raise ValueError(&quot;至少有2个集合&quot;)
  if len(array) &gt; 12:
    print(&quot;数据量较大，生成集合耗时较长, 请耐心等待&quot;)

  count = 0
  items = []
  for item in itertools.product(*array):
    count += 1
    print item
    items.append(item)
  return (count, items)

if __name__ == '__main__' :
  print &quot;笛卡尔积：&quot;

  # 如果有多少集合数据，可以',' 分隔作为参数传递给函数combination(), 如combination(a1, a2, a3, a4, ...)
  # count, items = combination(a, b, c, a, b, c, a, b, c, a, b, c)
  # count, items = combination(a)
  count, items = combination(a, b, c)
  print &quot;此笛卡尔积组合为: &quot;, items
  print &quot;共有 %d 个组合&quot; % (count)
</code></pre><h3 id=2-golang-版本>2. golang 版本
<a class=anchor href=#2-golang-%e7%89%88%e6%9c%ac>#</a></h3><pre><code>package main

import (
    &quot;errors&quot;
    &quot;fmt&quot;
)

// 递归下一个 index
func NextIndex(idx []int, lenArr []int) {
    j := len(idx) - 1
    for ; j &gt;= 0; j-- {
        fmt.Println(&quot;debug========:&quot;, j, idx)
        idx[j]++
        fmt.Println(&quot;debug========:&quot;, j, idx)
        if j == 0 || idx[j] &lt; lenArr[j] {
            return
        }
        // 首次返回0下标
        idx[j] = 0
    }
}

func Combination(arr ...[]string) (count int, arrList [][]string, err error) {
    // 错误处理, 少于2个集合则错误返回。
    if len(arr) &lt; 2 {
        fmt.Println(&quot;至少有2个集合&quot;)
        errors.New(&quot;至少有2个集合&quot;)
        count = -1
        return
    }

    // 将每一个集合的长度记录下来, 并存放在数组中
    lenArray := []int{}
    for index, _ := range arr {
        lenArray = append(lenArray, len(arr[index]))
    }

    // 构造索引数组, 并初始化[], 值为0
    idx := make([]int, len(arr))

    // 索引数组中索引小于集合长度进行循环, 从右往左依次增加下标idx数值，实现遍历。
    for ; idx[0] &lt; lenArray[0]; NextIndex(idx, lenArray) {
        var r []string

        for j, k := range idx {
            fmt.Println(&quot;debug2======&quot;, r, j, k, idx)
            // 依次合并相邻集合，最终所有元素存放在r数组中
            r = append(r, arr[j][k])
        }
        fmt.Println(r)
        arrList = append(arrList, r)
    }
    count = len(arrList)
    return
}

func main() {
    arr1 := []string{&quot;a&quot;, &quot;b&quot;}
    arr2 := []string{&quot;x&quot;, &quot;y&quot;}
    arr3 := []string{&quot;1&quot;, &quot;2&quot;, &quot;3&quot;}

    // Combination(arr1, arr2, arr3, arr1)
    count, arrList, err := Combination(arr1, arr2, arr3, arr1)
    // count, arrList, err := Combination(arr1)
    if err == nil {
        fmt.Printf(&quot;笛卡尔积组合为：%s, 共有：%d 个组合\n&quot;, arrList, count)
    }
}
</code></pre></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/airdb/interview/commit/ed3fffc531bbda7d0adccb3338a4cf857e2e0d62 title="Last modified by deancn | May 20, 2021" target=_blank rel=noopener><img src=/interview/svg/calendar.svg class=book-icon alt=Calendar>
<span>May 20, 2021</span></a></div><div><a class="flex align-center" href=https://github.com/airdb/interview/tree/master/content/content/programming/1-cartesian-product.md target=_blank rel=noopener><img src=/interview/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div></main></body></html>